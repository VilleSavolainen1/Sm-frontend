[{"C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\index.js":"1","C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\App.js":"2","C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\components\\profile.js":"3","C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\components\\signin.js":"4","C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\components\\frontpage.js":"5","C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\components\\viewprofile.js":"6","C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\components\\register.js":"7","C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\components\\navigation.js":"8","C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\components\\messageForm.js":"9","C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\components\\SideDrawer\\drawertoggle.js":"10","C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\components\\SideDrawer\\Drawertoggle.js":"11","C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\components\\SideDrawer\\Sidedrawer.js":"12"},{"size":170,"mtime":1612203093804,"results":"13","hashOfConfig":"14"},{"size":5299,"mtime":1613916465045,"results":"15","hashOfConfig":"14"},{"size":4669,"mtime":1614094651918,"results":"16","hashOfConfig":"14"},{"size":1405,"mtime":1613762422262,"results":"17","hashOfConfig":"14"},{"size":1028,"mtime":1613764857691,"results":"18","hashOfConfig":"14"},{"size":2450,"mtime":1614094796210,"results":"19","hashOfConfig":"14"},{"size":2911,"mtime":1613765210322,"results":"20","hashOfConfig":"14"},{"size":2156,"mtime":1614094020295,"results":"21","hashOfConfig":"14"},{"size":1888,"mtime":1613915760026,"results":"22","hashOfConfig":"14"},{"size":539,"mtime":1614006742138,"results":"23","hashOfConfig":"14"},{"size":539,"mtime":1614006742138,"results":"24","hashOfConfig":"14"},{"size":1264,"mtime":1614007624412,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"1ipcekr",{"filePath":"29","messages":"30","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"28"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"28"},"C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\index.js",[],["53","54"],"C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\App.js",["55","56","57","58","59","60","61","62"],"import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Navigation from './components/navigation';\nimport Signin from './components/signin';\nimport Register from './components/register';\nimport WriteMessage from './components/messageForm';\nimport Profile from './components/profile';\nimport FrontPage from './components/frontpage';\nimport View from './components/viewprofile';\nimport axios from 'axios';\n\n\n\nfunction App() {\n\n  let messagesToRender;\n\n  const [route, setRoute] = useState('/home');\n  const [user, setUser] = useState('Vieras');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [post, setPost] = useState(false);\n  const [images, setImages] = useState([]);\n  const [viewprofile, setViewprofile] = useState();\n  const [imageLoaded, setImageloaded] = useState(false);\n  const [profileUpdate, setProfileupdate] = useState(false);\n  const [usersList, setUserslist] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [imagemessages, setImagemessages] = useState(null);\n  const [showmessages, setShowmessages] = useState([]);\n\n  let addresses = [];\n  let users = [];\n  let messages = [];\n  let showUsers = '';\n\n  useEffect(() => {\n    axios.get('http://localhost:3001/users')\n      .then(u => {\n        users.push(u.data)\n        setLoading(true)\n      })\n    setUserslist(users)\n  }, [])\n\n\n\n  useEffect(() => {\n    if (user !== 'Vieras' && route !== '/viewprofile') {\n      axios.post('http://localhost:3001/imagenames', { username: user })\n        .then(res => {\n          res.data.map(name => {\n            addresses.push('http://localhost:3001/images/' + name)\n          })\n          setImages(addresses)\n        })\n    }\n  }, [imageLoaded, user, profileUpdate, loading, route])\n\n\n\n  useEffect(() => {\n    const loggedUser = window.localStorage.getItem(\"loggeduser\");\n    if (loggedUser) {\n      const user = loggedUser;\n      setUser(user);\n    }\n  }, []);\n\n\n  useEffect(() => {\n    setError('');\n  }, [route])\n\n\n  const onRouteChange = (e) => {\n    setRoute(e);\n  }\n\n  const viewUser = async (usr) => {\n    if (usr === user) {\n      setRoute('/profile')\n    } else {\n      await axios.post('http://localhost:3001/imagenames', { username: usr })\n        .then(res => {\n          res.data.map(name => {\n            addresses.push('http://localhost:3001/images/' + name)\n          })\n          setImages(addresses)\n        })\n      setViewprofile(usr)\n      setRoute('/viewprofile')\n    }\n  }\n\n\n  if (loading) {\n    showUsers = usersList[0].map(profile => {\n      return (\n        <i key={profile} onClick={() => viewUser(profile)}>{profile}</i>\n      )\n    })\n  }\n\n\n\n  if (messages) {\n    messagesToRender = messages;\n  } else {\n    messagesToRender = \"Loading...\";\n  }\n\n\n  function signIn(e) {\n    e.preventDefault();\n    if (username.length === 0 || password.length === 0) {\n      setError(\"Anna käyttäjänimi ja salasana!\")\n    } else {\n      axios.post('http://localhost:3001/signin', { username: username, password: password })\n        .then(res => {\n          if (res.status === 200) {\n            setRoute('/home')\n            setUser(username)\n            localStorage.setItem(\"loggeduser\", username);\n            setUsername('');\n            setPassword('');\n          } else {\n            setError(\"Wrong username or password!\");\n            setUsername('');\n            setPassword('');\n          }\n        })\n        .catch(() => {\n          setUsername('')\n          setPassword('')\n          setError(\"Väärä käyttäjänimi tai salasana!\")\n        })\n    }\n  }\n\n\n\n  return (\n    <div className=\"container\">\n      <header id=\"header\">\n        <Navigation user={user} setUser={setUser} onRouteChange={onRouteChange} />\n      </header>\n      {user === 'Vieras' && route === '/signin' ?\n        <Signin setUser={setUser} setRoute={setRoute} username={username} setUsername={setUsername} password={password} setPassword={setPassword} setError={setError} signIn={signIn} error={error} /> : null\n      }\n      {user === 'Vieras' && route === '/register' ?\n        <Register setRoute={setRoute} setUser={setUser} setError={setError} /> : null\n      }\n      {route === '/home' ?\n        <div className=\"body-content\">\n          <div className=\"center\">\n            <FrontPage user={user} setRoute={setRoute} />\n            <h1 style={{fontWeight: 150}}>Käyttäjät</h1>\n            <div className=\"usersblock\">\n              {showUsers}\n            </div>\n          </div>\n        </div> : null\n      }\n      {route === '/profile' ?\n        <div className=\"body-content\">\n          <div className=\"center\">\n            <Profile user={user} images={images} imageLoaded={imageLoaded} setImageloaded={setImageloaded} profileUpdate={profileUpdate} setProfileupdate={setProfileupdate} post={post} setPost={setPost} />\n          </div>\n        </div> : null\n      }\n      {route === '/viewprofile' ?\n        <div className=\"body-content\">\n          <div className=\"center\">\n            < View viewprofile={viewprofile} images={images} user={user} post={post} setPost={setPost} imagemessages={imagemessages} setImagemessages={setImagemessages} />\n          </div>\n        </div>\n        : null\n      }\n    </div>\n  );\n}\n\nexport default App;\n","C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\components\\profile.js",["63"],"C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\components\\signin.js",[],"C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\components\\frontpage.js",[],"C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\components\\viewprofile.js",["64"],"C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\components\\register.js",[],"C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\components\\navigation.js",["65","66","67","68","69","70","71"],"C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\components\\messageForm.js",[],"C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\components\\SideDrawer\\drawertoggle.js",["72"],"C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\components\\SideDrawer\\Drawertoggle.js",[],"C:\\Users\\Ville\\Desktop\\sm-frontend\\social media\\src\\components\\SideDrawer\\Sidedrawer.js",["73","74","75","76","77"],"import React from 'react';\r\nimport './sidedrawer.css';\r\n\r\nconst Sidedrawer = ({ user, onRouteChange, setShowsidebar, setUser }) => {\r\n\r\n    const exit = () => {\r\n        localStorage.clear();\r\n        setUser('Vieras');\r\n        onRouteChange('/home')\r\n        setShowsidebar(false);\r\n    };\r\n\r\n    const toggle = (route) => {\r\n        onRouteChange(route);\r\n        setShowsidebar(false);\r\n    }\r\n\r\n    return (\r\n        <nav className=\"side-drawer\">\r\n            <ul className=\"link-list\">\r\n                <li className=\"drawerlink\"><a onClick={() => toggle('/home')}>Etusivu</a></li>\r\n                {user !== 'Vieras' ?\r\n                    <div>\r\n                        <li className=\"drawerlink\"><a onClick={() => toggle('/profile')}>Profiili</a></li>\r\n                        <li className=\"drawerlink\"><a onClick={() => exit()}>Kirjaudu ulos</a></li>\r\n                    </div> :\r\n                    <div>\r\n                        <li className=\"drawerlink\"><a onClick={() => toggle('/signin')}>Kirjaudu</a></li>\r\n                        <li className=\"drawerlink\"><a onClick={() => toggle('/register')}>Rekisteröidy!</a></li>\r\n                    </div>\r\n                }\r\n\r\n            </ul>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Sidedrawer;",{"ruleId":"78","replacedBy":"79"},{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","severity":1,"message":"83","line":6,"column":8,"nodeType":"84","messageId":"85","endLine":6,"endColumn":20},{"ruleId":"82","severity":1,"message":"86","line":31,"column":10,"nodeType":"84","messageId":"85","endLine":31,"endColumn":22},{"ruleId":"82","severity":1,"message":"87","line":31,"column":24,"nodeType":"84","messageId":"85","endLine":31,"endColumn":39},{"ruleId":"88","severity":1,"message":"89","line":45,"column":6,"nodeType":"90","endLine":45,"endColumn":8,"suggestions":"91"},{"ruleId":"92","severity":1,"message":"93","line":53,"column":29,"nodeType":"94","messageId":"95","endLine":53,"endColumn":31},{"ruleId":"88","severity":1,"message":"96","line":59,"column":6,"nodeType":"90","endLine":59,"endColumn":56,"suggestions":"97"},{"ruleId":"92","severity":1,"message":"93","line":87,"column":29,"nodeType":"94","messageId":"95","endLine":87,"endColumn":31},{"ruleId":"82","severity":1,"message":"98","line":111,"column":5,"nodeType":"84","messageId":"85","endLine":111,"endColumn":21},{"ruleId":"82","severity":1,"message":"99","line":27,"column":15,"nodeType":"84","messageId":"85","endLine":27,"endColumn":19},{"ruleId":"82","severity":1,"message":"99","line":19,"column":15,"nodeType":"84","messageId":"85","endLine":19,"endColumn":19},{"ruleId":"100","severity":1,"message":"101","line":25,"column":46,"nodeType":"102","endLine":25,"endColumn":63},{"ruleId":"100","severity":1,"message":"101","line":28,"column":33,"nodeType":"102","endLine":28,"endColumn":85},{"ruleId":"100","severity":1,"message":"101","line":29,"column":33,"nodeType":"102","endLine":29,"endColumn":88},{"ruleId":"100","severity":1,"message":"101","line":32,"column":33,"nodeType":"102","endLine":32,"endColumn":85},{"ruleId":"100","severity":1,"message":"101","line":37,"column":33,"nodeType":"102","endLine":37,"endColumn":69},{"ruleId":"100","severity":1,"message":"101","line":40,"column":33,"nodeType":"102","endLine":40,"endColumn":87},{"ruleId":"100","severity":1,"message":"101","line":41,"column":33,"nodeType":"102","endLine":41,"endColumn":89},{"ruleId":"82","severity":1,"message":"103","line":4,"column":7,"nodeType":"84","messageId":"85","endLine":4,"endColumn":19},{"ruleId":"100","severity":1,"message":"101","line":21,"column":44,"nodeType":"102","endLine":21,"endColumn":79},{"ruleId":"100","severity":1,"message":"101","line":24,"column":52,"nodeType":"102","endLine":24,"endColumn":90},{"ruleId":"100","severity":1,"message":"101","line":25,"column":52,"nodeType":"102","endLine":25,"endColumn":78},{"ruleId":"100","severity":1,"message":"101","line":28,"column":52,"nodeType":"102","endLine":28,"endColumn":89},{"ruleId":"100","severity":1,"message":"101","line":29,"column":52,"nodeType":"102","endLine":29,"endColumn":91},"no-native-reassign",["104"],"no-negated-in-lhs",["105"],"no-unused-vars","'WriteMessage' is defined but never used.","Identifier","unusedVar","'showmessages' is assigned a value but never used.","'setShowmessages' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'users'. Either include it or remove the dependency array.","ArrayExpression",["106"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","React Hook useEffect has a missing dependency: 'addresses'. Either include it or remove the dependency array.",["107"],"'messagesToRender' is assigned a value but never used.","'time' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'Drawertoggle' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"108","fix":"109"},{"desc":"110","fix":"111"},"Update the dependencies array to be: [users]",{"range":"112","text":"113"},"Update the dependencies array to be: [imageLoaded, user, profileUpdate, loading, route, addresses]",{"range":"114","text":"115"},[1435,1437],"[users]",[1781,1831],"[imageLoaded, user, profileUpdate, loading, route, addresses]"]